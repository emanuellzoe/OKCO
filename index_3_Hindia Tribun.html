<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Okco Tiket - Checkout</title>
    <link rel="stylesheet" href="halaman-3.css">
    <!-- icon pesan dan tiket -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
</head>
<body>
    <header>
        <nav>
            <a href="index.html"><img id="okco" src="okco-png.png" alt="okco"></a>
            <form>
                <div class="search">
                    <span class="search-icon material-symbols-outlined">search</span>
                    <input class="search-input" type="search" placeholder="Search">
                </div>
            </form>
            <div class="filter">
                <a href="filter.html">
                    <span class="filter-icon material-symbols-outlined">filter_alt</span>
                    <span class="filter-teks">Filter</span>
                </a>
            </div>
            <a href="#" class="navi">Login</a>
        </nav>
    </header>
    <div class="utama">
        <div class="Form">
            <div class="Form-Pemesan">
                <div class="Data-Pemesan">
                    <span class="material-symbols-outlined icon">account_box</span>
                    <span class="account-teks">Data Diri Pemesan</span>
                </div>
                <hr>
                <div id="dataPemesanContainer">
                    <div class="pemesan">
                        <div class="nama">
                            <label for="nama_lengkap_1">Nama Lengkap <span class="kali">*</span></label><br>
                            <input type="text" name="nama_lengkap_1" id="nama_lengkap_1" maxlength="50" required>
                        </div>
                        <div class="nik">
                            <label for="nik_1">NIK <span class="kali">*</span></label><br>
                            <input type="number" name="nik_1" id="nik_1" class="input-number" max="9999999999999999" required>
                        </div>
                        <div class="email">
                            <label for="email_1">Email <span class="kali">*</span></label><br>
                            <input type="email" name="email_1" id="email_1" maxlength="50" required>
                        </div>
                        <div class="nomor">
                            <label for="nomor_1">No.Whatsapp <span class="kali">*</span></label><br>
                            <input type="number" name="nomor_1" id="nomor_1" class="input-number" max="9999999999999" required>
                        </div>
                    </div>
                </div>
                <form action="sukses.html">
                    <button type="submit" class="teruskan">Memesan</button>
                </form>
            </div>
        </div>
        <div class="decs">
            <div class="rincian">
                <span class="material-symbols-outlined icon">news</span>
                <span class="rincian-pemesanan">Rincian Pesanan</span>
            </div>
            <div class="banner-event">
                <img src="img/Banner Hindia.jpg" alt="foto event">
            </div>
            <div class="nama-event">
                <label for>Sebuah Pertunjukan Oleh Hindia dan Kawan-Kawan "DEFRAG"</label>
            </div>
            <hr>
            <div class="tiket-info">
                <label for>Tiket</label>
                <label for class="kanan">Jumlah</label>
            </div>
            <div class="tiket-detail">
                <label for>Reguler: Tribun</label><br>
                <span class="harga-tiket">Rp 175.000</span>
                <label for class="kanan satu">x<input type="number" id="jumlahTiket" name="jumlahTiket" value="1" min="1" max="10" onchange="updateTotal()"></label>
            </div>
            <div class="tiket-diskon">
                <input type="text" name="kotak-diskon" id="kotak-diskon" placeholder="Masukkan Kode Voucher">
                <input type="button" name="button-kotak-diskon" id="button-kotak-diskon" value="Pakai">
            </div>
            <hr>
            <div class="uang">
                <div class="subtotal">
                    <label for class="tiket-info">Subtotal</label>
                    <span class="harga-tiket kanan" id="subtotal">Rp 175.000</span>
                </div>
                <div class="price">
                    <label for class="tiket-info">Biaya Layanan</label>
                    <span class="biaya-harga-tiket kanan" id="biayaLayanan">Rp 10.000</span>
                </div>
                <hr>
                <div class="total">
                    <label for class="tiket-info">Total</label>
                    <span class="harga-tiket kanan" id="total">Rp 185.000</span>
                </div>
            </div>
        </div>
    </div> 
    <script>
        const hargaTiket = 175000;
        const biayaLayanan = 10000;

        function updateTotal() {
            const jumlahTiket = document.getElementById('jumlahTiket').value;
            const subtotal = hargaTiket * jumlahTiket;
            const total = subtotal + biayaLayanan;
            
            document.getElementById('subtotal').textContent = 'Rp ' + subtotal.toLocaleString('id-ID');
            document.getElementById('total').textContent = 'Rp ' + total.toLocaleString('id-ID');
            
            updateDataPemesan(jumlahTiket);
        }

        function updateDataPemesan(jumlahTiket) {
            const dataPemesanContainer = document.getElementById('dataPemesanContainer');
            dataPemesanContainer.innerHTML = ''; // Clear existing inputs

            for (let i = 1; i <= jumlahTiket; i++) {
                const pemesanDiv = document.createElement('div');
                pemesanDiv.classList.add('pemesan');
                
                pemesanDiv.innerHTML = `
                    <div class="Data-Pemesan">
                        <span class="material-symbols-outlined icon">account_box</span>
                        <span class="account-teks">Data Diri Pemesan ${i}</span>
                    </div>
                    <hr>
                    <div class="nama">
                        <label for="nama_lengkap_${i}">Nama Lengkap <span class="kali">*</span></label><br>
                        <input type="text" name="nama_lengkap_${i}" id="nama_lengkap_${i}" maxlength="50" required>
                    </div>
                    <div class="nik">
                        <label for="nik_${i}">NIK <span class="kali">*</span></label><br>
                        <input type="number" name="nik_${i}" id="nik_${i}" class="input-number" max="9999999999999999" required>
                    </div>
                    <div class="email">
                        <label for="email_${i}">Email <span class="kali">*</span></label><br>
                        <input type="email" name="email_${i}" id="email_${i}" maxlength="50" required>
                    </div>
                    <div class="nomor">
                        <label for="nomor_${i}">No.Whatsapp <span class="kali">*</span></label><br>
                        <input type="number" name="nomor_${i}" id="nomor_${i}" class="input-number" max="9999999999999" required>
                    </div>
                `;
                
                dataPemesanContainer.appendChild(pemesanDiv);
            }
        }

        // Initial call to set up the form based on the default ticket quantity
        updateTotal();
    </script>
</body>
</html>
